<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NebulaHub</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0b0e14; --panel:#0f1422; --card:#121826; --accent:#7c7cff; --accent2:#00ffd1; --text:#e6e8ee; --muted:#9aa3b2;
}
*{box-sizing:border-box}
html,body{margin:0;background:radial-gradient(1200px 600px at 10% -10%, #1b1f3a, transparent),var(--bg);color:var(--text);font-family:Inter,system-ui}
html{scroll-behavior:smooth}

/* App Shell */
.app{display:grid;grid-template-columns:260px 1fr;min-height:100vh}
.sidebar{position:sticky;top:0;height:100vh;background:linear-gradient(180deg,rgba(11,14,20,.95),rgba(11,14,20,.85));border-right:1px solid rgba(255,255,255,.06);padding:18px}
.brand{font-weight:800;letter-spacing:.4px;font-size:20px;margin-bottom:22px}
.brand span{color:var(--accent2)}
.navbtn{display:flex;align-items:center;gap:10px;width:100%;padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03);color:var(--text);cursor:pointer;margin-bottom:10px;transition:transform .15s ease,background .15s ease,border-color .15s ease}
.navbtn.active{background:linear-gradient(180deg,rgba(124,124,255,.25),rgba(124,124,255,.08));border-color:rgba(124,124,255,.6)}
.navbtn:hover{transform:translateY(-1px)}

/* Main */
.main{padding:28px}
.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
.header h1{margin:0;font-size:28px}
.header .pill{padding:6px 10px;border-radius:999px;background:rgba(0,255,209,.12);color:var(--accent2);font-weight:700;font-size:12px}

/* Screens */
.screen{display:none;animation:fade .35s ease}
.screen.active{display:block}
@keyframes fade{from{opacity:.0;transform:translateY(10px)}to{opacity:1;transform:none}}

/* Cards / Grid */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.1);border-radius:18px;padding:18px;position:relative;overflow:hidden;transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease}
.card::after{content:"";position:absolute;inset:-1px;background:radial-gradient(300px 120px at var(--mx,50%) var(--my,0%),rgba(124,124,255,.25),transparent 60%);opacity:0;transition:opacity .25s ease}
.card:hover{transform:translateY(-6px);box-shadow:0 30px 80px rgba(0,0,0,.45);border-color:rgba(124,124,255,.6)}
.card:hover::after{opacity:.8}
.card h3{margin:6px 0 8px}
.card p{color:var(--muted);margin:0 0 10px}

/* Search */
.search-wrap{background:var(--card);border:1px solid rgba(255,255,255,.1);border-radius:18px;padding:18px}
.search-row{display:flex;gap:10px}
.search-row input{flex:1;padding:14px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:#0e1320;color:var(--text)}
.btn{padding:14px 18px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(124,124,255,.25),rgba(124,124,255,.1));color:var(--text);cursor:pointer;font-weight:700}
.results{margin-top:14px}
.result{padding:10px 0;border-bottom:1px dashed rgba(255,255,255,.12)}

/* Settings */
.setting{display:flex;align-items:center;justify-content:space-between;padding:14px;border:1px solid rgba(255,255,255,.08);border-radius:14px;background:rgba(255,255,255,.03);margin-bottom:12px}
.toggle{width:44px;height:24px;border-radius:999px;background:#222;position:relative;cursor:pointer}
.toggle::after{content:"";position:absolute;top:3px;left:3px;width:18px;height:18px;border-radius:50%;background:#777;transition:left .2s ease,background .2s ease}
.toggle.on{background:rgba(124,124,255,.4)}
.toggle.on::after{left:23px;background:#fff}

/* Mobile */
@media(max-width:900px){.app{grid-template-columns:1fr}.sidebar{position:fixed;left:-100%;transition:left .25s ease}.sidebar.open{left:0}.main{padding-top:64px}}
</style>
</head>
<body>
<div class="app">
  <aside class="sidebar" id="sidebar">
    <div class="brand">Nebula<span>Hub</span></div>
    <button class="navbtn active" onclick="openScreen('home',this)">Home</button>
    <button class="navbtn" onclick="openScreen('search',this)">Nebula Search</button>
    <button class="navbtn" onclick="openScreen('games',this)">Games</button>
    <button class="navbtn" onclick="openScreen('ai',this)">Nebula AI</button>
    <button class="navbtn" onclick="openScreen('settings',this)">Settings</button>
  </aside>

  <main class="main">
    <div class="header">
      <h1 id="title">Home</h1>
      <span class="pill">App Mode</span>
    </div>

    <!-- HOME -->
    <section id="home" class="screen active">
      <div class="grid">
        <div class="card"><h3>App‑Style Navigation</h3><p>Sidebar routing keeps everything inside the site.</p></div>
        <div class="card"><h3>Animated UI</h3><p>Hover lighting, transitions, and smooth screen changes.</p></div>
        <div class="card"><h3>Expandable</h3><p>Add games later without changing the structure.</p></div>
      </div>
    </section>

    <!-- SEARCH -->
    <section id="search" class="screen">
      <div class="search-wrap">
        <h2>Nebula Search</h2>
        <div class="search-row">
          <input id="q" placeholder="Search DuckDuckGo (stays inside NebulaHub)" />
          <button class="btn" onclick="ddg()">Search</button>
        </div>
        <div id="results" class="results"></div>
      </div>
    </section>

    <!-- GAMES -->
    <section id="games" class="screen">
      <div class="grid">
        <div class="card"><h3>Games Section</h3><p>Coming soon. Clickable cards will open games in this app screen.</p></div>
        <div class="card"><h3>Internal Game Screen</h3><p>Games will load here without opening a new tab.</p></div>
      </div>
    </section>

    <!-- AI -->
    <section id="ai" class="screen">
      <div class="search-wrap">
        <h2>Nebula AI</h2>
        <p style="color:var(--muted)">In‑app AI screen. Connect your own API key or use demo mode.</p>
        <div class="search-row" style="margin-bottom:10px">
          <input id="aiPrompt" placeholder="Ask Nebula AI…" />
          <button class="btn" onclick="askAI()">Send</button>
        </div>
        <div id="aiChat" class="results"></div>
        <div class="setting" style="margin-top:14px">
          <span>Demo mode (no API)</span>
          <div id="demoToggle" class="toggle on" onclick="toggle(this)"></div>
        </div>
        <div class="setting">
          <span>OpenAI‑compatible API key</span>
          <input id="apiKey" placeholder="sk‑…" style="flex:1;margin-left:10px" />
        </div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="settings" class="screen">
      <div class="setting"><span>Enable animations</span><div class="toggle on" onclick="toggle(this)"></div></div>
      <div class="setting"><span>Dark neon theme</span><div class="toggle on" onclick="toggle(this)"></div></div>
      <div class="setting"><span>Compact layout</span><div class="toggle" onclick="toggle(this)"></div></div>
    </section>
  </main>
</div>

<script>
function openScreen(id,btn){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.navbtn').forEach(b=>b.classList.remove('active'));
  if(btn) btn.classList.add('active');
  document.getElementById('title').textContent = btn ? btn.textContent : id;
}

// Card glow
for(const c of document.querySelectorAll('.card')){
  c.addEventListener('mousemove',e=>{const r=c.getBoundingClientRect();c.style.setProperty('--mx',((e.clientX-r.left)/r.width)*100+'%');c.style.setProperty('--my',((e.clientY-r.top)/r.height)*100+'%')});
}

// DuckDuckGo Instant Answer
function ddg(){const q=document.getElementById('q').value;const out=document.getElementById('results');out.innerHTML='Searching…';fetch(`https://api.duckduckgo.com/?q=${encodeURIComponent(q)}&format=json&no_redirect=1&no_html=1`).then(r=>r.json()).then(d=>{out.innerHTML='';if(d.AbstractText) out.innerHTML+=`<div class=\"result\">${d.AbstractText}</div>`;(d.RelatedTopics||[]).slice(0,6).forEach(i=>{if(i.Text) out.innerHTML+=`<div class=\"result\">${i.Text}</div>`})}).catch(()=>out.innerHTML='Error loading results')}

// Nebula AI (demo + optional API)
function askAI(){
  const chat=document.getElementById('aiChat');
  const q=document.getElementById('aiPrompt').value.trim();
  if(!q) return;
  chat.innerHTML += `<div class=\"result\"><b>You:</b> ${q}</div>`;
  const demoOn=document.getElementById('demoToggle').classList.contains('on');
  if(demoOn){
    chat.innerHTML += `<div class=\"result\"><b>Nebula AI:</b> Demo reply. Connect an API key to enable real AI responses.</div>`;
    return;
  }
  const key=document.getElementById('apiKey').value.trim();
  if(!key){ chat.innerHTML += `<div class=\"result\">Missing API key.</div>`; return; }
  fetch('https://api.openai.com/v1/chat/completions',{
    method:'POST',
    headers:{'Content-Type':'application/json','Authorization':'Bearer '+key},
    body:JSON.stringify({model:'gpt-4.1-mini',messages:[{role:'user',content:q}]})
  }).then(r=>r.json()).then(d=>{
    const t=d.choices?.[0]?.message?.content || 'No response';
    chat.innerHTML += `<div class=\"result\"><b>Nebula AI:</b> ${t}</div>`;
  }).catch(()=> chat.innerHTML += `<div class=\"result\">Error contacting AI.</div>`);
}

function toggle(t){t.classList.toggle('on')}{const q=document.getElementById('q').value;const out=document.getElementById('results');out.innerHTML='Searching…';fetch(`https://api.duckduckgo.com/?q=${encodeURIComponent(q)}&format=json&no_redirect=1&no_html=1`).then(r=>r.json()).then(d=>{out.innerHTML='';if(d.AbstractText) out.innerHTML+=`<div class="result">${d.AbstractText}</div>`;(d.RelatedTopics||[]).slice(0,6).forEach(i=>{if(i.Text) out.innerHTML+=`<div class="result">${i.Text}</div>`})}).catch(()=>out.innerHTML='Error loading results')}

function toggle(t){t.classList.toggle('on')}
</script>
</body>
</html>
